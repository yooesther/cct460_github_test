jQuery(document).ready(function(){jQuery(document).on("click",".assingIdToConfirmDelBtn",function(){var b=jQuery(this).attr("data-attr");jQuery("#delFormOk").attr("data-attr",b)}),jQuery(document).on("click","#delFormOk",function(a){a.preventDefault(),jQuery("#loader-icon-delete-form").show();var b=jQuery(this).attr("data-attr");jQuery.ajax({url:ajaxurl,data:{delForm:"1",formId:b,action:"get_post_information"},success:function(){if(jQuery("#loader-icon-delete-form").hide(),currentUrl=window.location.href,jQuery("#addForm-"+b).remove(),jQuery("#delete-form").modal("hide"),jQuery("#form-deleted-modal").modal("show"),setTimeout(function(){jQuery("#form-deleted-modal").modal("hide")},1e3),jQuery(".addFormBox").length>=1)a.preventDefault();else{for(var d=window.location.search.substr(1).split("&"),e={},f=0;f<d.length;f++){var g=d[f].split("=");e[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}if(e.cpage)if(e.cpage>1){var h="cpage="+e.cpage,i=parseInt(e.cpage)-1,j="cpage="+i,k=currentUrl.replace(h,j);location.href=k}else location.href=currentUrl;else location.href=currentUrl}}})}),jQuery(document).on("click",".deleteMainField",function(){var b=jQuery(this).attr("name"),c=b.split("_"),d=c[1];jQuery("#delMainFieldOk").attr("data-attr",d)}),jQuery(document).on("click","#delMainFieldOk",function(a){a.preventDefault(),jQuery("#loader-icon-delete-field-modal").show();{var b=jQuery("ul.sortable.list-unstyled > li").length,c=jQuery(this).attr("data-attr"),d="delMainField_"+c;jQuery("["+d+"]").parents().closest(".addForms .sortable")}b>1?jQuery.ajax({url:ajaxurl,data:{deleteMainField:"1",fieldId:c,action:"get_post_information"},success:function(){jQuery("#loader-icon-delete-field-modal").hide(),jQuery("#delete-field-modal").modal("hide"),jQuery("#deleted-field-modal").modal("show"),setTimeout(function(){jQuery("#deleted-field-modal").modal("hide")},1e3),jQuery("[name=delMainField_"+c+"]").parents().closest(".addFormBox").parent().remove()}}):alert("Cant remove ! There should be al least one field in form ")}),jQuery(document).on("click",".deleteSubField",function(){var c=(jQuery(this),jQuery(this).attr("name")),d=c.split("_"),e=d[1];jQuery("#delSubFieldOk").attr("data-attr",e)}),jQuery(document).on("click","#delSubFieldOk",function(a){a.preventDefault(),jQuery("#loader-icon-delete-subfield-modal").show();var b=jQuery(this).attr("data-attr"),c="delSubField_"+b,d=jQuery(".deleteSubField[name='"+c+"']").parents().closest(".newFields");jQuery(d).children().length>1?jQuery.ajax({url:ajaxurl,data:{deleteSubField:"1",subfield_id:b,action:"get_post_information"},success:function(){jQuery("#loader-icon-delete-subfield-modal").hide(),jQuery("#delete-subfield-modal").modal("hide"),jQuery("#deleted-subfield-modal").modal("show"),setTimeout(function(){jQuery("#deleted-subfield-modal").modal("hide")},2e3),jQuery(".deleteSubField[name='"+c+"']").parents().closest(".formField").remove(),event.preventDefault()}}):alert("Cant remove ! There should be al least one child field of parent field ")}),jQuery(document).on("click","[name='duplicate_form']",function(){var b=jQuery(this).attr("data-attr");jQuery("#duplicateFormOk").attr("data-attr",b)}),jQuery(document).on("click","#duplicateFormOk",function(){jQuery("#loader-icon-duplicate-form-modal").show();var b=jQuery(this).attr("data-attr");jQuery.ajax({url:ajaxurl,method:"post",data:{duplicateForm:"1",formId:b,action:"get_post_information"},beforeSend:function(){jQuery("#duplicate-form-modal").modal("hide")},success:function(a){jQuery("#loader-icon-duplicate-form-modal").hide(),jQuery.isNumeric(a)&&0==a?(jQuery("#form-duplicated-modal").modal("show"),setTimeout(function(){location.href=window.location.href},1e3)):alert("something went wrong ,please try later thanks")}})}),jQuery(document).on("click","#del-all-records-ok",function(a){a.preventDefault(),jQuery("#loader-icon-delete-all-submissions").show();var b=jQuery("#del-all-records-ok").attr("data-attr"),c=window.location.href,d=c.split("&cpage=");jQuery.ajax({url:ajaxurl,data:{delAllSubmissions:"1",formId:b,action:"get_post_information"},method:"post",success:function(a){jQuery("#loader-icon-delete-all-submissions").hide(),a>0?(jQuery("#del-all-records").modal("hide"),setTimeout(function(){jQuery("#record-deleted").modal("show")},500),setTimeout(function(){jQuery("#record-deleted").modal("hide")},3e3),setTimeout(function(){location.href=d[0]},2e3)):alert("There was some error in deleting the record")}}),a.preventDefault()}),jQuery(document).on("click",".delFormRecord",function(a){a.preventDefault(),jQuery("#del-record-ok").attr("attachment-exists",jQuery(this).attr("attachment-exists")),jQuery("#del-record-ok").attr("data-id",jQuery(this).attr("data-id"))}),jQuery(document).on("click","#del-record-ok",function(a){a.preventDefault(),jQuery("#loader-icon-delete-submission").show(),currentElement=jQuery(this),submitedFormRecordId=jQuery(this).attr("data-id"),attachmentExists=jQuery(this).attr("attachment-exists"),jQuery.ajax({url:ajaxurl,data:{delSubmitedFormRecord:"1",submitedFormRecordId:submitedFormRecordId,attachmentExists:attachmentExists,action:"get_post_information"},method:"POST",success:function(b){if(jQuery("#loader-icon-delete-submission").hide(),1==b){currentUrl=window.location.href,jQuery("tr#"+submitedFormRecordId).remove(),jQuery("#delete-record").modal("hide"),setTimeout(function(){jQuery("#record-deleted").modal("show")},500),setTimeout(function(){jQuery("#record-deleted").modal("hide")},3e3);var c=jQuery("#show_submissions_table tr").length;if(c>1)a.preventDefault();else{for(var d=window.location.search.substr(1).split("&"),e={},f=0;f<d.length;f++){var g=d[f].split("=");e[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}if(e.cpage)if(e.cpage>1){var h="cpage="+e.cpage,i=parseInt(e.cpage)-1,j="cpage="+i,k=currentUrl.replace(h,j);jQuery("#record-deleted").modal("show"),setTimeout(function(){location.href=k},1e3)}else jQuery("#record-deleted").modal("show"),setTimeout(function(){location.href=currentUrl},1e3);else jQuery("#record-deleted").modal("show"),setTimeout(function(){location.href=currentUrl},1e3)}}else alert("There was some Error deleting the Record ")}}),a.preventDefault()}),jQuery(document).on("submit","form[name='styling_tab_form']",function(a){function d(a){1==a?(jQuery("#update-status").modal("show"),setTimeout(function(){jQuery("#update-status").modal("hide")},3e3)):alert("There was some problem saving the record")}var b=jQuery(document.activeElement);if(name=b.attr("name"),"btn_save_form_style"==name){a.preventDefault(),formId=jQuery(this).attr("data-attr");var c={url:ajaxurl,data:{save_form_style:"1",formId:formId,action:"get_post_information"},success:d};return jQuery(this).ajaxSubmit(c),!1}})});